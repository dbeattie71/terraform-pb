syntax "proto3";

package aws;

message AwsAppmeshVirtualNode {
  arn = 1;
  created_date = 2;
  id = 3;
  last_updated_date = 4;
  mesh_name = 5;
  name = 6;
  tags = 7;
  message Spec {
    backends = 1;
    message Backend {
      message VirtualService {
        virtual_service_name = 1;
      }
      virtual_service = 1;
    }
    backend = 2;
    message Listener {
      message HealthCheck {
        healthy_threshold = 1;
        interval_millis = 2;
        path = 3;
        port = 4;
        protocol = 5;
        timeout_millis = 6;
        unhealthy_threshold = 7;
      }
      health_check = 1;
      message PortMapping {
        port = 1;
        protocol = 2;
      }
      port_mapping = 2;
    }
    listener = 3;
    message Logging {
      message AccessLog {
        message File {
          path = 1;
        }
        file = 1;
      }
      access_log = 1;
    }
    logging = 4;
    message ServiceDiscovery {
      message AwsCloudMap {
        attributes = 1;
        namespace_name = 2;
        service_name = 3;
      }
      aws_cloud_map = 1;
      message Dns {
        hostname = 1;
        service_name = 2;
      }
      dns = 2;
    }
    service_discovery = 5;
  }
  spec = 8;
}