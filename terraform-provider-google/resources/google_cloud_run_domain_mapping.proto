syntax="proto3";

package google;

message GoogleCloudRunDomainMapping {
  string id = 1;

  // The location of the cloud run instance. eg us-central1
  string location = 2;

  // Name should be a verified domain
  string name = 3;
  string project = 4;

  // The current status of the DomainMapping.
  message Status {
    message Conditions {
      string message = 1;
      string reason = 2;
      string status = 3;
      string type = 4;
    }
    repeated Conditions conditions = 1;
    string mapped_route_name = 2;
    int64  observed_generation = 3;
    message ResourceRecords {
      string name = 1;
      string rrdata = 2;
      string type = 3;
    }
    repeated ResourceRecords resource_records = 4;
  }
  repeated Status status = 5;
  message Metadata {

    // Annotations is a key value map stored with a resource that
    // may be set by external tools to store and retrieve arbitrary metadata. More
    // info: http://kubernetes.io/docs/user-guide/annotations
    map<string, string> annotations = 1;

    // A sequence number representing a specific generation of the desired state.
    int64  generation = 2;

    // Map of string keys and values that can be used to organize and categorize
    // (scope and select) objects. May match selectors of replication controllers
    // and routes.
    // More info: http://kubernetes.io/docs/user-guide/labels
    map<string, string> labels = 3;

    // In Cloud Run the namespace must be equal to either the
    // project ID or project number.
    string namespace = 4;

    // An opaque value that represents the internal version of this object that
    // can be used by clients to determine when objects have changed. May be used
    // for optimistic concurrency, change detection, and the watch operation on a
    // resource or set of resources. They may only be valid for a
    // particular resource or set of resources.
    // 
    // More info:
    // https://git.k8s.io/community/contributors/devel/api-conventions.md#concurrency-control-and-consistency
    string resource_version = 5;

    // SelfLink is a URL representing this object.
    string self_link = 6;

    // UID is a unique id generated by the server on successful creation of a resource and is not
    // allowed to change on PUT operations.
    // 
    // More info: http://kubernetes.io/docs/user-guide/identifiers#uids
    string uid = 7;
  }
  repeated Metadata metadata = 6;
  message Spec {

    // The mode of the certificate.
    string certificate_mode = 1;

    // If set, the mapping will override any mapping set before this spec was set.
    // It is recommended that the user leaves this empty to receive an error
    // warning about a potential conflict and only set it once the respective UI
    // has given such a warning.
    bool   force_override = 2;

    // The name of the Cloud Run Service that this DomainMapping applies to.
    // The route must exist.
    string route_name = 3;
  }
  repeated Spec spec = 7;
  message Timeouts {
    string create = 1;
    string delete = 2;
  }
  Timeouts timeouts = 8;
}